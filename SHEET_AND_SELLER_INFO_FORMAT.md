# Sheet & Seller Info Format (for Dawnbalance)

This document describes the current structure of the **Payment v2** and **Seller Info** sheets used by the Dashboard. Use it to align your sheet setup or integrations.

---

## 1. Payment v2 sheet

**Tab name:** `Payment v2`

### Column order (left to right)

| Col | Header         | Description                    | Written by app? | Notes |
|-----|----------------|--------------------------------|------------------|--------|
| A   | Timestamp      | When the payment was created   | Yes              | `DD/MM/YYYY HH:MM:SS` (GMT+3:30) |
| B   | Due Date       | When payment is due            | Yes              | `DD/MM/YYYY HH:MM:SS` |
| C   | Discord ID     | User's Discord ID              | Yes              | |
| D   | Payment Time   | Due Date option                | Yes              | Selected due date option label (e.g. `Instant`). Not a timestamp. |
| E   | Amount         | Quantity / amount               | Yes              | Numeric |
| F   | PPU            | Price per unit                  | Yes              | Numeric |
| G   | Total          | Amount × PPU                    | Yes              | Auto-calculated by app |
| H   | [Empty]        | Empty column                    | No               | Reserved for future use |
| I   | Payment Source | Source (e.g. realm)             | Yes              | Options from Payment Info sheet |
| J   | Payment Method | Method                          | Yes              | Options from Payment Info sheet |
| K   | Card Number    | Shomare Kart                    | Yes              | From Seller Info when available |
| L   | Iban           | Shomare Sheba                   | Yes              | From Seller Info when available |
| M   | Name           | Seller name                     | Yes              | From Seller Info when available |
| N   | Wallet         | Wallet address                  | Yes              | From Seller Info when available |
| O   | Paypal Address | Paypal wallet                   | Yes              | From Seller Info when available |
| P   | UUID           | Unique payment ID               | Yes              | 12 hex chars |
| Q   | Note           | User note                       | Yes              | |
| R   | Author         | Admin who submitted             | Yes              | Admin's name (from user account) |
| S   | Status         | Paid / Unpaid / Failed          | **No** (read-only for app) | App only reads; can be edited in sheet or via "Mark Paid" |

### Important rules

- **App appends up to column R (Author).** It never writes to column S (Status) on create. Column S (Status) can be edited manually in the sheet or via the Dashboard "Mark Paid" / status update.
- **Author** (column R) is automatically filled with the admin's name who created the payment.
- **Total** is always `Amount × PPU`; the app overwrites any value in column G.
- **Timestamp** and **Payment Time** (Due Date option) are set by the app; no need to fill them manually.
- **UUID** is generated by the app (12 hex characters); do not send or paste it when creating rows via the app.
- **Column H is empty** and reserved for future use. The app does not write to this column.

---

## 2. Seller Info sheet

**Tab name:** `Seller Info`

### Column order (left to right)

| Col | Header        | Description      | Notes |
|-----|---------------|------------------|--------|
| A   | Discord ID    | Primary key      | One row per Discord ID |
| B   | Shomare Kart  | Card number      | |
| C   | ShomareSheba  | Sheba / IBAN     | |
| D   | Name          | Full name        | |
| E   | Shomare Tamas | Phone number     | |
| F   | Wallet        | Wallet address   | |
| G   | Paypal Wallet | Paypal address   | |

### How the app uses it

- When a payment is created with a **Discord ID**, the app looks up that ID in **Seller Info** and fills Payment v2 columns K–O (Card, Iban, Name, Wallet, Paypal Address) from columns B–G.
- If the Discord ID is not in Seller Info, those payment fields stay empty until the user adds/edits the seller.

---

## 3. Payment Info sheet (options)

**Tab name:** `Payment Info`

Used only to provide **options** for the Dashboard (dropdowns and due-date rules). The app does not write payment rows here.

- **Column A:** Payment Source options (e.g. realm names).
- **Column B:** Payment Method options.
- **Columns D & E:** Due date options — D = label (e.g. "Instant"), E = hours until due (e.g. `1`).

---

## 4. Quick reference

| Sheet        | Tab name     | Columns the app writes        | Columns the app only reads |
|-------------|--------------|------------------------------|----------------------------|
| Payment v2  | Payment v2   | A–R (Timestamp through Author) | S (Status)                 |
| Seller Info | Seller Info  | A–G (create/update seller)   | —                          |
| Payment Info| Payment Info | None                         | A, B, D, E                 |

If you need the exact API request/response formats or column indices (0-based), see `API_FORMAT_DOCUMENTATION.md` in this repo.
